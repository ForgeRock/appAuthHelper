"use strict";(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.AppAuthHelper=e()}})(function(){var t,e=String.fromCharCode;return function(){function s(d,e,r){function t(l,n){if(!e[l]){if(!d[l]){var i="function"==typeof require&&require;if(!n&&i)return i(l,!0);if(o)return o(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var a=e[l]={exports:{}};d[l][0].call(a.exports,function(e){var r=d[l][1][e];return t(r||e)},a,a.exports,s,d,e,r)}return e[l].exports}for(var o="function"==typeof require&&require,n=0;n<r.length;n++)t(r[n]);return t}return s}()({1:[function(e,t){(function(){"use strict";t.exports=function(e){return this.appAuthConfig=e,this.failedRequestQueue=this.failedRequestQueue||{},this},t.exports.prototype={waitForRenewedToken:function waitForRenewedToken(e){var t=this;return new Promise(function(r,o){t.failedRequestQueue[e]||(t.failedRequestQueue[e]=[]),t.failedRequestQueue[e].push([r,o])})},retryFailedRequests:function retryFailedRequests(e){if(this.failedRequestQueue&&this.failedRequestQueue[e])for(var t=this.failedRequestQueue[e].shift();t;)t[0](),t=this.failedRequestQueue[e].shift()},getResourceServerFromUrl:function getResourceServerFromUrl(e){return"object"==typeof this.appAuthConfig.resourceServers&&Object.keys(this.appAuthConfig.resourceServers).length?Object.keys(this.appAuthConfig.resourceServers).filter(function(t){return 0===e.indexOf(t)})[0]:void 0},fetchTokensFromIndexedDB:function fetchTokensFromIndexedDB(){return new Promise(function(e,t){var r,o=indexedDB.open("appAuth"),n=function(){return o.result.createObjectStore(this.appAuthConfig.clientId)}.bind(this);r=function(){if(!o.result.objectStoreNames.contains(this.appAuthConfig.clientId)){var i=o.result.version;return i++,o.result.close(),o=indexedDB.open("appAuth",i),o.onupgradeneeded=n,void(o.onsuccess=r)}var a=o.result.transaction([this.appAuthConfig.clientId],"readonly").objectStore(this.appAuthConfig.clientId).get("tokens");a.onsuccess=function(){var t=a.result;o.result.close(),e(t)}.bind(this),a.onerror=t}.bind(this),o.onupgradeneeded=n,o.onsuccess=r,o.onerror=t}.bind(this))},addAccessTokenToRequest:function addAccessTokenToRequest(e,t){var r=this;return new Promise(function(o,n){r.fetchTokensFromIndexedDB().then(function(i){i[t]?r.addAuthorizationRequestHeader(o,e,i[t]):(r.waitForRenewedToken(t).then(function(){r.addAccessTokenToRequest(e,t).then(o,n)},n),r.renewTokens(t))},n)})},interceptRequest:function interceptRequest(e,t){var r=this;return new Promise(function(o,n){r.addAccessTokenToRequest(e,t).then(function(e){return r.makeRequest(e)}).then(function(o){if("invalid_token"===r.getAuthHeaderDetails(o).error){var n=r.waitForRenewedToken(t).then(function(){return r.addAccessTokenToRequest(e,t)}).then(function(e){return r.makeRequest(e)});return r.renewTokens(t),n}return o}).then(o,n)})},renewTokens:function renewTokens(){},addAuthorizationRequestHeader:function addAuthorizationRequestHeader(){},getAuthHeaderDetails:function getAuthHeaderDetails(){},makeRequest:function makeRequest(){}}})()},{}],2:[function(e,t){(function(){"use strict";var r=e("./IdentityProxyCore"),o=function(e,t){var o=this,n=XMLHttpRequest.prototype.open,i=XMLHttpRequest.prototype.setRequestHeader,a=XMLHttpRequest.prototype.overrideMimeType;return this.RealXHRSend=XMLHttpRequest.prototype.send,this.renewTokens=t,XMLHttpRequest.prototype.open=function(e,t){var r=document.createElement("a");return r.href=t,this.url=r.href,this.openArgs=arguments,n.apply(this,arguments)},XMLHttpRequest.prototype.setRequestHeader=function(e,t){return this.headers=this.headers||[],this.headers.push([e,t]),i.call(this,e,t)},XMLHttpRequest.prototype.setRequestHeadersExceptAuthorization=function(e){(e||[]).forEach(function(e){"authorization"!==e[0].toLowerCase()&&i.call(this,e[0],e[1])}.bind(this))},XMLHttpRequest.prototype.overrideMimeType=function(e){return this.overriddenMimeType=e,a.call(this,e)},XMLHttpRequest.prototype.send=function(e){var t=this,r=o.getResourceServerFromUrl(this.url);r?o.interceptRequest({xhr:this,body:e},r).then(function(e){Object.keys(e.original_events).forEach(function(r){e.original_events[r]&&e.original_events[r].call(t)})}):o.RealXHRSend.call(this,e)},XMLHttpRequest.prototype.setNewResponseObject=function(e){this.newResponseObject=e,["response","responseText","responseType","responseURL","responseXML","status","statusText"].forEach(function(e){Object.defineProperty(this,e,{get:function get(){return this.newResponseObject[e]}})}.bind(this))},r.call(this,e)};o.prototype=Object.create(r.prototype),o.prototype.tokensRenewed=function(e){this.retryFailedRequests(e)},o.prototype.addAuthorizationRequestHeader=function(e,t,r){0!==t.xhr.status&&(t.originalxhr=t.xhr,t.xhr=new XMLHttpRequest,t.xhr.open.apply(t.xhr,t.originalxhr.openArgs),t.xhr.setRequestHeadersExceptAuthorization(t.originalxhr.headers),t.xhr.timeout=t.originalxhr.timeout,t.xhr.withCredentials=t.originalxhr.withCredentials,t.xhr.overrideMimeType(t.originalxhr.overriddenMimeType)),t.xhr.setRequestHeader("Authorization","Bearer "+r),e(t)},o.prototype.getAuthHeaderDetails=function(e){var t=e.xhr.getAllResponseHeaders().split("\n").map(function(e){return e.split(": ")}).reduce(function(e,t){return 2===t.length&&(e[t[0].toLowerCase()]=t[1]),e},{});return t["www-authenticate"]&&t["www-authenticate"].match(/^Bearer /)?t["www-authenticate"].replace(/^Bearer /,"").match(/[^,=]+=".*?"/g).reduce(function(e,t){var r=t.split("=");return e[r[0]]=r[1].replace(/"(.*)"/,"$1"),e},{}):{}},o.prototype.makeRequest=function(e){var t=this;return new Promise(function(r){e.original_events=e.original_events||{onload:e.xhr.onload,onreadystatechange:e.xhr.onreadystatechange,onloadend:e.xhr.onloadend,onerror:e.xhr.onerror},e.xhr.onload=null,e.xhr.onreadystatechange=null,e.xhr.onloadend=null,e.xhr.onerror=null,e.xhr.onload=function(){e.originalxhr&&e.originalxhr.setNewResponseObject(e.xhr),r(e)},t.RealXHRSend.call(e.xhr,e.body)})},t.exports=o})()},{"./IdentityProxyCore":1}],3:[function(e,t){(function(){"use strict";function r(e,t,r){var o=new n.AuthorizationRequest({client_id:t.clientId,redirect_uri:t.redirectUri,scope:t.scopes,response_type:n.AuthorizationRequest.RESPONSE_TYPE_CODE,extras:r||{}});e.authorizationHandler.performAuthorizationRequest(e.configuration,o)}function o(e){return JSON.parse(atob(e.split(".")[1].replace("-","+").replace("_","/")))}var n=e("@openid/appauth");t.exports={init:function init(e){var t,i=document.createElement("iframe");this.renewCooldownPeriod=e.renewCooldownPeriod||1,this.appAuthConfig={},this.tokensAvailableHandler=e.tokensAvailableHandler,this.interactionRequiredHandler=e.interactionRequiredHandler,this.appAuthConfig.oidc=!("undefined"!=typeof e.oidc)||!!e.oidc,this.pendingResourceServerRenewals=[],e.redirectUri?this.appAuthConfig.redirectUri=e.redirectUri:(t=document.createElement("a"),t.href="appAuthHelperRedirect.html",this.appAuthConfig.redirectUri=t.href),e.serviceWorkerUri?this.appAuthConfig.serviceWorkerUri=e.serviceWorkerUri:(t=document.createElement("a"),t.href="appAuthServiceWorker.js",this.appAuthConfig.serviceWorkerUri=t.href),this.appAuthConfig.resourceServers=e.resourceServers||{},this.appAuthConfig.clientId=e.clientId,this.appAuthConfig.scopes=(this.appAuthConfig.oidc?["openid"]:[]).concat(Object.keys(this.appAuthConfig.resourceServers).reduce(function(e,t){return e.concat(this.appAuthConfig.resourceServers[t])}.bind(this),[])).join(" "),this.appAuthConfig.endpoints={authorization_endpoint:e.authorizationEndpoint,token_endpoint:e.tokenEndpoint,revocation_endpoint:e.revocationEndpoint,end_session_endpoint:e.endSessionEndpoint},window.addEventListener("message",function(t){if(t.origin===document.location.origin)switch(t.data){case"appAuth-tokensAvailable":var e=sessionStorage.getItem("originalWindowHash-"+this.appAuthConfig.clientId);if(null!==e&&(window.location.hash=e,sessionStorage.removeItem("originalWindowHash-"+this.appAuthConfig.clientId)),sessionStorage.getItem("currentResourceServer")){var i=sessionStorage.getItem("currentResourceServer");sessionStorage.removeItem("currentResourceServer"),this.renewTokenTimestamp=!1,this.pendingResourceServerRenewals.length&&this.pendingResourceServerRenewals.shift()(),this.identityProxy.tokensRenewed(i)}else this.registerIdentityProxy().then(function(){return this.fetchTokensFromIndexedDB()}.bind(this)).then(function(e){return this.tokensAvailableHandler(this.appAuthConfig.oidc?o(e.idToken):{})}.bind(this));break;case"appAuth-interactionRequired":this.interactionRequiredHandler?this.interactionRequiredHandler():(sessionStorage.setItem("originalWindowHash-"+this.appAuthConfig.clientId,window.location.hash),this.client.authorizationHandler=new n.RedirectRequestHandler,r(this.client,this.appAuthConfig));}}.bind(this),!1),sessionStorage.setItem("appAuthConfig",JSON.stringify(this.appAuthConfig)),i.setAttribute("src","about:blank"),i.setAttribute("id","AppAuthHelper"),i.setAttribute("style","display:none"),document.getElementsByTagName("body")[0].appendChild(i);var a;a="undefined"==typeof Promise||"undefined"==typeof fetch?new n.BaseTokenRequestHandler:new n.BaseTokenRequestHandler(new n.FetchRequestor()),this.client={configuration:new n.AuthorizationServiceConfiguration(this.appAuthConfig.endpoints),notifier:new n.AuthorizationNotifier,authorizationHandler:new n.RedirectRequestHandler(void 0,void 0,i.contentWindow.location),tokenHandler:a},this.checkForActiveAuthzRequest().then(function(e){if(e)return Promise.all([this.client.authorizationHandler.storageBackend.removeItem("appauth_current_authorization_request"),this.client.authorizationHandler.storageBackend.removeItem(e+"_appauth_authorization_request"),this.client.authorizationHandler.storageBackend.removeItem(e+"_appauth_authorization_service_configuration")])}.bind(this))},checkForActiveAuthzRequest:function checkForActiveAuthzRequest(){return this.client.authorizationHandler.storageBackend.getItem("appauth_current_authorization_request")},iframeRedirect:function iframeRedirect(e){this.client.authorizationHandler=new n.RedirectRequestHandler(void 0,void 0,e.contentWindow.location),r(this.client,this.appAuthConfig)},getTokens:function getTokens(){this.fetchTokensFromIndexedDB().then(function(e){e?this.registerIdentityProxy().then(function(){this.tokensAvailableHandler(this.appAuthConfig.oidc?o(e.idToken):{})}.bind(this)):this.checkForActiveAuthzRequest().then(function(e){e||(this.client.authorizationHandler=new n.RedirectRequestHandler(void 0,void 0,document.getElementById("AppAuthHelper").contentWindow.location),r(this.client,this.appAuthConfig,{prompt:"none"}))}.bind(this))}.bind(this))},logout:function logout(){return this.fetchTokensFromIndexedDB().then(function(e){if(e){var t=[];return e.accessToken&&t.push(new n.RevokeTokenRequest({client_id:this.appAuthConfig.clientId,token:e.accessToken})),Promise.all(t.concat(Object.keys(this.appAuthConfig.resourceServers).filter(function(t){return!!e[t]}).map(function(t){return new n.RevokeTokenRequest({client_id:this.appAuthConfig.clientId,token:e[t]})}.bind(this))).map(function(e){return this.client.tokenHandler.performRevokeTokenRequest(this.client.configuration,e)}.bind(this))).then(function(){return this.appAuthConfig.oidc&&e.idToken&&this.client.configuration.endSessionEndpoint?fetch(this.client.configuration.endSessionEndpoint+"?id_token_hint="+e.idToken):void 0}.bind(this)).then(function(){return new Promise(function(e,t){var r=indexedDB.open("appAuth");r.onsuccess=function(){var t=r.result.transaction([this.appAuthConfig.clientId],"readwrite").objectStore(this.appAuthConfig.clientId).clear();r.result.close(),t.onsuccess=e}.bind(this),r.onerror=t}.bind(this))}.bind(this))}}.bind(this))},whenRenewTokenFrameAvailable:function whenRenewTokenFrameAvailable(e){return new Promise(function(t){var r=sessionStorage.getItem("currentResourceServer");null===r&&(sessionStorage.setItem("currentResourceServer",e),r=e),e===r?t():this.pendingResourceServerRenewals.push(t)}.bind(this))},renewTokens:function renewTokens(e){this.whenRenewTokenFrameAvailable(e).then(function(){var t=new Date().getTime();if(sessionStorage.setItem("currentResourceServer",e),!this.renewTokenTimestamp||this.renewTokenTimestamp+1e3*this.renewCooldownPeriod<t){this.renewTokenTimestamp=t,this.client.authorizationHandler=new n.RedirectRequestHandler(void 0,void 0,document.getElementById("AppAuthHelper").contentWindow.location);var o=Object.create(this.appAuthConfig);o.scopes=this.appAuthConfig.resourceServers[e],r(this.client,o,{prompt:"none"})}}.bind(this))},fetchTokensFromIndexedDB:function fetchTokensFromIndexedDB(){return new Promise(function(e,t){var r,o=indexedDB.open("appAuth"),n=function(){return o.result.createObjectStore(this.appAuthConfig.clientId)}.bind(this);r=function(){if(!o.result.objectStoreNames.contains(this.appAuthConfig.clientId)){var i=o.result.version;return i++,o.result.close(),o=indexedDB.open("appAuth",i),o.onupgradeneeded=n,void(o.onsuccess=r)}var a=o.result.transaction([this.appAuthConfig.clientId],"readonly").objectStore(this.appAuthConfig.clientId).get("tokens");a.onsuccess=function(){var t=a.result;o.result.close(),e(t)}.bind(this),a.onerror=t}.bind(this),o.onupgradeneeded=n,o.onsuccess=r,o.onerror=t}.bind(this))},receiveMessageFromServiceWorker:function receiveMessageFromServiceWorker(e){return new Promise(function(t){"renewTokens"===e.data.message&&this.renewTokens(e.data.resourceServer),t()}.bind(this))},registerIdentityProxy:function registerIdentityProxy(){return new Promise(function(e){"serviceWorker"in navigator?navigator.serviceWorker.register(this.appAuthConfig.serviceWorkerUri).then(function(t){this.identityProxy={tokensRenewed:function tokensRenewed(e){navigator.serviceWorker.controller.postMessage({message:"tokensRenewed",resourceServer:e})}};var r=function(){this.serviceWorkerMessageChannel=new MessageChannel,this.serviceWorkerMessageChannel.port1.onmessage=function(t){return this.receiveMessageFromServiceWorker(t).then(e)}.bind(this),t.active.postMessage({message:"configuration",config:this.appAuthConfig},[this.serviceWorkerMessageChannel.port2])}.bind(this);navigator.serviceWorker.ready.then(r)}.bind(this)).catch(function(){this.registerXHRProxy(),e()}.bind(this)):(this.registerXHRProxy(),e())}.bind(this))},registerXHRProxy:function registerXHRProxy(){this.identityProxy=new(e("./IdentityProxyXHR"))(this.appAuthConfig,this.renewTokens.bind(this))}}})()},{"./IdentityProxyXHR":2,"@openid/appauth":12}],4:[function(e,t){var r=String.prototype;window.Promise=window.Promise||("function"==typeof e("promise-polyfill")?e("promise-polyfill"):e("promise-polyfill").default),window.fetch=window.fetch||e("whatwg-fetch").fetch,e("url-polyfill"),e("webcrypto-shim"),r.includes=r.includes||function(e){return-1!==this.indexOf(e)},t.exports=e("./appAuthHelper")},{"./appAuthHelper":3,"promise-polyfill":24,"url-polyfill":26,"webcrypto-shim":27,"whatwg-fetch":28}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./crypto_utils"),n=e("./logger"),i=function(e){return e.generateRandom(10)},a=function(){function e(t,r,n){void 0===r&&(r=new o.DefaultCrypto),void 0===n&&(n=!0),this.crypto=r,this.usePkce=n,this.clientId=t.client_id,this.redirectUri=t.redirect_uri,this.scope=t.scope,this.responseType=t.response_type||e.RESPONSE_TYPE_CODE,this.state=t.state||i(r),this.extras=t.extras,this.internal=t.internal}return e.prototype.setupCodeVerifier=function(){var e=this;if(!this.usePkce)return Promise.resolve();var t=this.crypto.generateRandom(128),r=this.crypto.deriveChallenge(t).catch(function(e){n.log("Unable to generate PKCE challenge. Not using PKCE",e)});return r.then(function(r){r&&(e.internal=e.internal||{},e.internal.code_verifier=t,e.extras=e.extras||{},e.extras.code_challenge=r,e.extras.code_challenge_method="S256")})},e.prototype.toJson=function(){var e=this;return this.setupCodeVerifier().then(function(){return{response_type:e.responseType,client_id:e.clientId,redirect_uri:e.redirectUri,scope:e.scope,state:e.state,extras:e.extras,internal:e.internal}})},e.RESPONSE_TYPE_TOKEN="token",e.RESPONSE_TYPE_CODE="code",e}();r.AuthorizationRequest=a},{"./crypto_utils":9,"./logger":13}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./logger"),n=function(){function e(){this.listener=null}return e.prototype.setAuthorizationListener=function(e){this.listener=e},e.prototype.onAuthorizationComplete=function(e,t,r){this.listener&&this.listener(e,t,r)},e}();r.AuthorizationNotifier=n,r.BUILT_IN_PARAMETERS=["redirect_uri","client_id","response_type","state","scope"];var i=function(){function e(e,t){this.utils=e,this.crypto=t,this.notifier=null}return e.prototype.buildRequestUrl=function(e,t){var o={redirect_uri:t.redirectUri,client_id:t.clientId,response_type:t.responseType,state:t.state,scope:t.scope};if(t.extras)for(var n in t.extras)t.extras.hasOwnProperty(n)&&0>r.BUILT_IN_PARAMETERS.indexOf(n)&&(o[n]=t.extras[n]);var i=this.utils.stringify(o),a=e.authorizationEndpoint;return a+"?"+i},e.prototype.completeAuthorizationRequestIfPossible=function(){var e=this;return o.log("Checking to see if there is an authorization response to be delivered."),this.notifier||o.log("Notifier is not present on AuthorizationRequest handler.\n          No delivery of result will be possible"),this.completeAuthorizationRequest().then(function(t){t||o.log("No result is available yet."),t&&e.notifier&&e.notifier.onAuthorizationComplete(t.request,t.response,t.error)})},e.prototype.setAuthorizationNotifier=function(e){return this.notifier=e,this},e}();r.AuthorizationRequestHandler=i},{"./logger":13}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e){this.code=e.code,this.state=e.state}return e.prototype.toJson=function(){return{code:this.code,state:this.state}},e}();r.AuthorizationResponse=o;var n=function(){function e(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri,this.state=e.state}return e.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri,state:this.state}},e}();r.AuthorizationError=n},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./xhr"),n=function(){function e(e){this.authorizationEndpoint=e.authorization_endpoint,this.tokenEndpoint=e.token_endpoint,this.revocationEndpoint=e.revocation_endpoint,this.userInfoEndpoint=e.userinfo_endpoint,this.endSessionEndpoint=e.end_session_endpoint}return e.prototype.toJson=function(){return{authorization_endpoint:this.authorizationEndpoint,token_endpoint:this.tokenEndpoint,revocation_endpoint:this.revocationEndpoint,end_session_endpoint:this.endSessionEndpoint,userinfo_endpoint:this.userInfoEndpoint}},e.fetchFromIssuer=function(t,r){var n=r||new o.JQueryRequestor;return n.xhr({url:t+"/"+".well-known"+"/"+"openid-configuration",dataType:"json"}).then(function(t){return new e(t)})},e}();r.AuthorizationServiceConfiguration=n},{"./xhr":21}],9:[function(e,t,r){"use strict";function o(e){for(var t,r=[],o=0;o<e.byteLength;o+=1)t=e[o]%62,r.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[t]);return r.join("")}function n(e){var t=a.fromByteArray(new Uint8Array(e));return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function i(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}Object.defineProperty(r,"__esModule",{value:!0});var a=e("base64-js"),s=e("./errors"),p="undefined"!=typeof window&&!!window.crypto,d=p&&!!window.crypto.subtle;r.bufferToString=o,r.urlSafe=n,r.textEncodeLite=i;var l=function(){function e(){}return e.prototype.generateRandom=function(e){var t=new Uint8Array(e);if(p)window.crypto.getRandomValues(t);else for(var r=0;r<e;r+=1)t[r]=Math.random();return o(t)},e.prototype.deriveChallenge=function(e){return 43>e.length||128<e.length?Promise.reject(new s.AppAuthError("Invalid code length.")):d?new Promise(function(t,r){crypto.subtle.digest("SHA-256",i(e)).then(function(e){return t(n(new Uint8Array(e)))},function(e){return r(e)})}):Promise.reject(new s.AppAuthError("window.crypto.subtle is unavailable."))},e}();r.DefaultCrypto=l},{"./errors":10,"base64-js":22}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){return function(e,t){this.message=e,this.extras=t}}();r.AppAuthError=o},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IS_LOG=!0,r.IS_PROFILE=!1},{}],12:[function(e,t,r){"use strict";function o(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),o(e("./authorization_request")),o(e("./authorization_request_handler")),o(e("./authorization_response")),o(e("./authorization_service_configuration")),o(e("./crypto_utils")),o(e("./errors")),o(e("./flags")),o(e("./logger")),o(e("./query_string_utils")),o(e("./redirect_based_handler")),o(e("./revoke_token_request")),o(e("./storage")),o(e("./token_request")),o(e("./token_request_handler")),o(e("./token_response")),o(e("./xhr"))},{"./authorization_request":5,"./authorization_request_handler":6,"./authorization_response":7,"./authorization_service_configuration":8,"./crypto_utils":9,"./errors":10,"./flags":11,"./logger":13,"./query_string_utils":14,"./redirect_based_handler":15,"./revoke_token_request":16,"./storage":17,"./token_request":18,"./token_request_handler":19,"./token_response":20,"./xhr":21}],13:[function(e,t,r){"use strict";function o(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(i.IS_LOG){var o=t?t.length:0;0<o?console.log.apply(console,[e].concat(t)):console.log(e)}}function n(e,t,r){var n=r.value,i=n.name;return i||(i="anonymous function"),r.value=a?function(e){console.profile(i);var t=window.performance.now(),r=n.call.apply(n,[this||window].concat(e)),o=window.performance.now()-t;return console.log(i+" took "+o+" ms"),console.profileEnd(),r}:function(e){o("Profile start "+i);var t=Date.now(),r=n.call.apply(n,[this||window].concat(e)),a=Date.now()-t;return o("Profile end "+i+" took "+a+" ms."),r},r}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./flags");r.log=o;var a="undefined"!=typeof window&&!!window.performance&&!!console.profile;r.profile=function(e,t,r){return i.IS_PROFILE?n(e,t,r):r}},{"./flags":11}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.parse=function(e,t){return t?this.parseQueryString(e.hash):this.parseQueryString(e.search)},e.prototype.parseQueryString=function(e){var t={};e=e.trim().replace(/^(\?|#|&)/,"");for(var r=e.split("&"),o=0;o<r.length;o+=1){var n=r[o],a=n.split("=");if(2<=a.length){var s=decodeURIComponent(a.shift()),p=0<a.length?a.join("="):null;p&&(t[s]=decodeURIComponent(p))}}return t},e.prototype.stringify=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&e[r]&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")},e}();r.BasicQueryStringUtils=o},{}],15:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function extendStatics(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./authorization_request"),i=e("./authorization_request_handler"),a=e("./authorization_response"),s=e("./crypto_utils"),p=e("./logger"),d=e("./query_string_utils"),l=e("./storage"),u=function(e){return e+"_appauth_authorization_request"},c=function(e){return e+"_appauth_authorization_service_configuration"},h="appauth_current_authorization_request",y=function(e){function t(t,r,o,n){void 0===t&&(t=new l.LocalStorageBackend),void 0===r&&(r=new d.BasicQueryStringUtils),void 0===o&&(o=window.location),void 0===n&&(n=new s.DefaultCrypto);var i=e.call(this,r,n)||this;return i.storageBackend=t,i.locationLike=o,i}return o(t,e),t.prototype.performAuthorizationRequest=function(e,t){var r=this,o=this.crypto.generateRandom(10),n=Promise.all([this.storageBackend.setItem(h,o),t.toJson().then(function(e){return r.storageBackend.setItem(u(o),JSON.stringify(e))}),this.storageBackend.setItem(c(o),JSON.stringify(e.toJson()))]);n.then(function(){var o=r.buildRequestUrl(e,t);p.log("Making a request to ",t,o),r.locationLike.assign(o)})},t.prototype.completeAuthorizationRequest=function(){var e=this;return this.storageBackend.getItem(h).then(function(t){return t?e.storageBackend.getItem(u(t)).then(function(e){return JSON.parse(e)}).then(function(e){return new n.AuthorizationRequest(e)}).then(function(r){var o=""+e.locationLike.origin+e.locationLike.pathname,n=e.utils.parse(e.locationLike,!0),i=n.state,s=n.code,d=n.error;p.log("Potential authorization request ",o,n,i,s,d);var l=i===r.state,y=null,f=null;if(l){if(d){var g=n.error_uri,_=n.error_description;f=new a.AuthorizationError({error:d,error_description:_,error_uri:g,state:i})}else y=new a.AuthorizationResponse({code:s,state:i});return Promise.all([e.storageBackend.removeItem(h),e.storageBackend.removeItem(u(t)),e.storageBackend.removeItem(c(t))]).then(function(){return p.log("Delivering authorization response"),{request:r,response:y,error:f}})}return p.log("Mismatched request (state and request_uri) dont match."),Promise.resolve(null)}):null})},t}(i.AuthorizationRequestHandler);r.RedirectRequestHandler=y},{"./authorization_request":5,"./authorization_request_handler":6,"./authorization_response":7,"./crypto_utils":9,"./logger":13,"./query_string_utils":14,"./storage":17}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e){this.token=e.token,this.tokenTypeHint=e.token_type_hint,this.clientId=e.client_id,this.clientSecret=e.client_secret}return e.prototype.toJson=function(){var e={token:this.token};return this.tokenTypeHint&&(e.token_type_hint=this.tokenTypeHint),this.clientId&&(e.client_id=this.clientId),this.clientSecret&&(e.client_secret=this.clientSecret),e},e.prototype.toStringMap=function(){var e=this.toJson();return e},e}();r.RevokeTokenRequest=o},{}],17:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function extendStatics(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(){return function(){}}();r.StorageBackend=n;var i=function(e){function t(t){var r=e.call(this)||this;return r.storage=t||window.localStorage,r}return o(t,e),t.prototype.getItem=function(e){var t=this;return new Promise(function(r){var o=t.storage.getItem(e);o?r(o):r(null)})},t.prototype.removeItem=function(e){var t=this;return new Promise(function(r){t.storage.removeItem(e),r()})},t.prototype.clear=function(){var e=this;return new Promise(function(t){e.storage.clear(),t()})},t.prototype.setItem=function(e,t){var r=this;return new Promise(function(o){r.storage.setItem(e,t),o()})},t}(n);r.LocalStorageBackend=i},{}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GRANT_TYPE_AUTHORIZATION_CODE="authorization_code",r.GRANT_TYPE_REFRESH_TOKEN="refresh_token";var o=function(){function e(e){this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.grantType=e.grant_type,this.code=e.code,this.refreshToken=e.refresh_token,this.extras=e.extras}return e.prototype.toJson=function(){return{grant_type:this.grantType,code:this.code,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,client_id:this.clientId,extras:this.extras}},e.prototype.toStringMap=function(){var e={grant_type:this.grantType,client_id:this.clientId,redirect_uri:this.redirectUri};if(this.code&&(e.code=this.code),this.refreshToken&&(e.refresh_token=this.refreshToken),this.extras)for(var t in this.extras)this.extras.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=this.extras[t]);return e},e}();r.TokenRequest=o},{}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("./errors"),n=e("./query_string_utils"),i=e("./token_response"),a=e("./xhr"),s=function(){function e(e,t){void 0===e&&(e=new a.JQueryRequestor),void 0===t&&(t=new n.BasicQueryStringUtils),this.requestor=e,this.utils=t}return e.prototype.isTokenResponse=function(e){return void 0===e.error},e.prototype.performRevokeTokenRequest=function(e,t){var r=this.requestor.xhr({url:e.revocationEndpoint,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(t.toStringMap())});return r.then(function(){return!0})},e.prototype.performTokenRequest=function(e,t){var r=this,n=this.requestor.xhr({url:e.tokenEndpoint,method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(t.toStringMap())});return n.then(function(e){return r.isTokenResponse(e)?new i.TokenResponse(e):Promise.reject(new o.AppAuthError(e.error,new i.TokenError(e)))})},e}();r.BaseTokenRequestHandler=s},{"./errors":10,"./query_string_utils":14,"./token_response":20,"./xhr":21}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.nowInSeconds=function(){return Math.round(new Date().getTime()/1e3)};var o=function(){function e(e){this.accessToken=e.access_token,this.tokenType=e.token_type||"bearer",this.expiresIn=e.expires_in,this.refreshToken=e.refresh_token,this.scope=e.scope,this.idToken=e.id_token,this.issuedAt=e.issued_at||r.nowInSeconds()}return e.prototype.toJson=function(){return{access_token:this.accessToken,id_token:this.idToken,refresh_token:this.refreshToken,scope:this.scope,token_type:this.tokenType,issued_at:this.issuedAt,expires_in:this.expiresIn}},e.prototype.isValid=function(e){if(void 0===e&&(e=600),this.expiresIn){var t=r.nowInSeconds();return t<this.issuedAt+this.expiresIn+e}return!0},e}();r.TokenResponse=o;var n=function(){function e(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri}return e.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri}},e}();r.TokenError=n},{}],21:[function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function extendStatics(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=e("./errors"),i=function(){return function(){}}();r.Requestor=i;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.xhr=function(e){var t=$.ajax(e);return new Promise(function(e,r){t.then(function(t){e(t)},function(e,t,o){r(new n.AppAuthError(o))})})},t}(i);r.JQueryRequestor=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.xhr=function(e){if(!e.url)return Promise.reject(new n.AppAuthError("A URL must be provided."));var t=new URL(e.url),r={};if(r.method=e.method,r.mode="cors",e.data)if(e.method&&"POST"===e.method.toUpperCase())r.body=e.data;else{var o=new URLSearchParams(e.data);o.forEach(function(e,r){t.searchParams.append(r,e)})}if(r.headers={},e.headers)for(var a in e.headers)e.headers.hasOwnProperty(a)&&(r.headers[a]=e.headers[a]);var i=e.dataType&&"json"===e.dataType.toLowerCase();return i&&(r.headers.Accept="application/json, text/javascript, */*; q=0.01"),fetch(t.toString(),r).then(function(e){if(200<=e.status&&300>e.status){var t=e.headers.get("content-type");return i||t&&t.includes("application/json")?e.json():e.text()}return Promise.reject(new n.AppAuthError(e.status.toString(),e.statusText))})},t}(i);r.FetchRequestor=s;var p=function(e){function t(t){var r=e.call(this)||this;return r.promise=t,r}return o(t,e),t.prototype.xhr=function(){return this.promise},t}(i);r.TestRequestor=p},{"./errors":10}],22:[function(e,t,r){'use strict';function o(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var o=r===t?0:4-r%4;return[r,o]}function n(e,t,r){return 3*(t+r)/4-r}function a(e){for(var t,r=o(e),a=r[0],s=r[1],p=new c(n(e,a,s)),d=0,l=0<s?a-4:a,h=0;h<l;h+=4)t=u[e.charCodeAt(h)]<<18|u[e.charCodeAt(h+1)]<<12|u[e.charCodeAt(h+2)]<<6|u[e.charCodeAt(h+3)],p[d++]=255&t>>16,p[d++]=255&t>>8,p[d++]=255&t;return 2===s&&(t=u[e.charCodeAt(h)]<<2|u[e.charCodeAt(h+1)]>>4,p[d++]=255&t),1===s&&(t=u[e.charCodeAt(h)]<<10|u[e.charCodeAt(h+1)]<<4|u[e.charCodeAt(h+2)]>>2,p[d++]=255&t>>8,p[d++]=255&t),p}function s(e){return l[63&e>>18]+l[63&e>>12]+l[63&e>>6]+l[63&e]}function p(e,t,r){for(var o,n=[],a=t;a<r;a+=3)o=(16711680&e[a]<<16)+(65280&e[a+1]<<8)+(255&e[a+2]),n.push(s(o));return n.join("")}function d(e){for(var t,r=e.length,o=r%3,n=[],a=16383,s=0,d=r-o;s<d;s+=a)n.push(p(e,s,s+a>d?d:s+a));return 1===o?(t=e[r-1],n.push(l[t>>2]+l[63&t<<4]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],n.push(l[t>>10]+l[63&t>>4]+l[63&t<<2]+"=")),n.join("")}r.byteLength=function(e){var t=o(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=a,r.fromByteArray=d;for(var l=[],u=[],c="undefined"==typeof Uint8Array?Array:Uint8Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,f=h.length;y<f;++y)l[y]=h[y],u[h.charCodeAt(y)]=y;u[45]=62,u[95]=63},{}],23:[function(e,t){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function n(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(r){try{return l.call(null,t,0)}catch(r){return l.call(this,t,0)}}}function i(t){if(u===clearTimeout)return clearTimeout(t);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(r){try{return u.call(null,t)}catch(r){return u.call(this,t)}}}function a(){f&&h&&(f=!1,h.length?y=h.concat(y):g=-1,y.length&&s())}function s(){if(!f){var e=n(a);f=!0;for(var t=y.length;t;){for(h=y,y=[];++g<t;)h&&h[g].run();g=-1,t=y.length}h=null,f=!1,i(e)}}function p(e,t){this.fun=e,this.array=t}function d(){}var l,u,c=t.exports={};(function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{u="function"==typeof clearTimeout?clearTimeout:o}catch(t){u=o}})();var h,y=[],f=!1,g=-1;c.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new p(e,t)),1!==y.length||f||n(s)},p.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=d,c.addListener=d,c.once=d,c.off=d,c.removeListener=d,c.removeAllListeners=d,c.emit=d,c.prependListener=d,c.prependOnceListener=d,c.listeners=function(){return[]},c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],24:[function(e,t){(function(e){'use strict';function r(e){return!!(e&&"undefined"!=typeof e.length)}function o(){}function n(e,t){return function(){e.apply(t,arguments)}}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function s(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):void(e._handled=!0,a._immediateFn(function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._state?p:d)(t.promise,e._value);var o;try{o=r(e._value)}catch(r){return void d(t.promise,r)}p(t.promise,o)}))}function p(t,r){try{if(r===t)throw new TypeError("A promise cannot be resolved with itself.");if(r&&("object"==typeof r||"function"==typeof r)){var o=r.then;if(r instanceof a)return t._state=3,t._value=r,void l(t);if("function"==typeof o)return void c(n(o,r),t)}t._state=1,t._value=r,l(t)}catch(r){d(t,r)}}function d(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)s(e,e._deferreds[t]);e._deferreds=null}function u(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function c(e,t){var r=!1;try{e(function(e){r||(r=!0,p(t,e))},function(e){r||(r=!0,d(t,e))})}catch(e){if(r)return;r=!0,d(t,e)}}var h=setTimeout;a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var r=new this.constructor(o);return s(this,new u(e,t,r)),r},a.prototype["finally"]=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})},a.all=function(e){return new a(function(t,o){function n(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var i=r.then;if("function"==typeof i)return void i.call(r,function(t){n(e,t)},o)}a[e]=r,0==--s&&t(a)}catch(e){o(e)}}if(!r(e))return o(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);for(var s=a.length,p=0;p<a.length;p++)n(p,a[p])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,r){r(e)})},a.race=function(e){return new a(function(t,o){if(!r(e))return o(new TypeError("Promise.race accepts an array"));for(var n=0,s=e.length;n<s;n++)a.resolve(e[n]).then(t,o)})},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){h(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=a}).call(this,e("timers").setImmediate)},{timers:25}],25:[function(e,t,r){(function(t,o){function n(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,p={},d=0;r.setTimeout=function(){return new n(a.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new n(a.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof t?t:function(e){var t=d++,o=!(2>arguments.length)&&s.call(arguments,1);return p[t]=!0,i(function(){p[t]&&(o?e.apply(null,o):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof o?o:function(e){delete p[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":23,timers:25}],26:[function(){(function(e){(function(e){var t=function checkIfIteratorIsSupported(){try{return!!Symbol.iterator}catch(e){return!1}}(),r=function(e){var r={next:function next(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r},o=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},n=function(e){return decodeURIComponent((e+"").replace(/\+/g," "))};(function checkIfURLSearchParamsSupported(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set}catch(t){return!1}})()||function polyfillURLSearchParams(){var n=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"==t);else if("string"==t)""!=e&&this._fromString(e);else if(e instanceof n){var r=this;e.forEach(function(e,t){r.append(t,e)})}else if(!(null!==e&&"object"==t))throw new TypeError("Unsupported input's type for URLSearchParams");else if("[object Array]"===Object.prototype.toString.call(e)){for(var o,a=0;a<e.length;a++)if(o=e[a],"[object Array]"===Object.prototype.toString.call(o)||2!==o.length)this.append(o[0],o[1]);else throw new TypeError("Expected [string, any] as entry at index "+a+" of URLSearchParams's input");}else for(var s in e)e.hasOwnProperty(s)&&this.append(s,e[s])},i=n.prototype;i.append=function(e,t){e in this._entries?this._entries[e].push(t+""):this._entries[e]=[t+""]},i.delete=function(e){delete this._entries[e]},i.get=function(e){return e in this._entries?this._entries[e][0]:null},i.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},i.has=function(e){return e in this._entries},i.set=function(e,t){this._entries[e]=[t+""]},i.forEach=function(e,t){var r;for(var o in this._entries)if(this._entries.hasOwnProperty(o)){r=this._entries[o];for(var n=0;n<r.length;n++)e.call(t,r[n],o,this)}},i.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),r(e)},i.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),r(e)},t&&(i[Symbol.iterator]=i.entries),i.toString=function(){var e=[];return this.forEach(function(t,r){e.push(o(r)+"="+o(t))}),e.join("&")},e.URLSearchParams=n}();var i=e.URLSearchParams.prototype;"function"!=typeof i.sort&&(i.sort=function(){var e=this,t=[];this.forEach(function(r,o){t.push([o,r]),e._entries||e.delete(o)}),t.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),e._entries&&(e._entries={});for(var r=0;r<t.length;r++)this.append(t[r][0],t[r][1])}),"function"!=typeof i._fromString&&Object.defineProperty(i,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function value(e){if(this._entries)this._entries={};else{var t=[];this.forEach(function(e,r){t.push(r)});for(var r=0;r<t.length;r++)this.delete(t[r])}e=e.replace(/^\?/,"");for(var o,a=e.split("&"),r=0;r<a.length;r++)o=a[r].split("="),this.append(n(o[0]),1<o.length?n(o[1]):"")}})})("undefined"==typeof e?"undefined"==typeof window?"undefined"==typeof self?this:self:window:e),function(e){if(function checkIfURLIsSupported(){try{var t=new e.URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(t){return!1}}()||function polyfillURL(){var t=e.URL,r=function(t,r){"string"!=typeof t&&(t+="");var o,n=document;if(r&&(void 0===e.location||r!==e.location.href)){n=document.implementation.createHTMLDocument(""),o=n.createElement("base"),o.href=r,n.head.appendChild(o);try{if(0!==o.href.indexOf(r))throw new Error(o.href)}catch(e){throw new Error("URL unable to set base "+r+" due to "+e)}}var i=n.createElement("a");if(i.href=t,o&&(n.body.appendChild(i),i.href=i.href),":"===i.protocol||!/:/.test(i.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:i});var a=new e.URLSearchParams(this.search),s=!0,p=!0,d=this;["append","delete","set"].forEach(function(e){var t=a[e];a[e]=function(){t.apply(a,arguments),s&&(p=!1,d.search=a.toString(),p=!0)}}),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0});var l;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function value(){this.search!==l&&(l=this.search,p&&(s=!1,this.searchParams._fromString(this.search),s=!0))}})},o=r.prototype,n=function(e){Object.defineProperty(o,e,{get:function get(){return this._anchorElement[e]},set:function set(t){this._anchorElement[e]=t},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(e){n(e)}),Object.defineProperty(o,"search",{get:function get(){return this._anchorElement.search},set:function set(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(o,{toString:{get:function get(){var e=this;return function(){return e.href}}},href:{get:function get(){return this._anchorElement.href.replace(/\?$/,"")},set:function set(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function get(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function set(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function get(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function get(){return""},set:function set(){},enumerable:!0},username:{get:function get(){return""},set:function set(){},enumerable:!0}}),r.createObjectURL=function(){return t.createObjectURL.apply(t,arguments)},r.revokeObjectURL=function(){return t.revokeObjectURL.apply(t,arguments)},e.URL=r}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(r){setInterval(function(){e.location.origin=t()},100)}}}("undefined"==typeof e?"undefined"==typeof window?"undefined"==typeof self?this:self:window:e)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],27:[function(r,o){(function(e,r){"function"==typeof t&&t.amd?t([],function(){return r(e)}):"object"==typeof o&&o.exports?o.exports=r(e):r(e)})("undefined"==typeof self?this:self,function(t){'use strict';function r(e){return btoa(e).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function o(e){return e+="===",e=e.slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function n(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function a(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e.apply(String,t)}function s(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=s(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=s(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name");}return t}function p(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function d(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(a(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(r){r in e&&(t[r]=e[r])});break;default:throw new TypeError("Unsupported key type");}return t}function l(e){var t=d(e);return T&&(t.extractable=t.ext,delete t.ext),n(unescape(encodeURIComponent(JSON.stringify(t)))).buffer}function u(e){var t=h(e),o=!1;2<t.length&&(o=!0,t.shift());var n={ext:!0};switch(t[0][0]){case"1.2.840.113549.1.1.1":var s=["n","e","d","p","q","dp","dq","qi"],p=h(t[1]);o&&p.shift();for(var d=0;d<p.length;d++)p[d][0]||(p[d]=p[d].subarray(1)),n[s[d]]=r(a(p[d]));n.kty="RSA";break;default:throw new TypeError("Unsupported key type");}return n}function c(e){var t,r=[["",null]],a=!1;switch(e.kty){case"RSA":for(var s,p=["n","e","d","p","q","dp","dq","qi"],d=[],l=0;l<p.length&&!!(p[l]in e);l++)s=d[l]=n(o(e[p[l]])),128&s[0]&&(d[l]=new Uint8Array(s.length+1),d[l].set(s,1));2<d.length&&(a=!0,d.unshift(new Uint8Array([0]))),r[0][0]="1.2.840.113549.1.1.1",t=d;break;default:throw new TypeError("Unsupported key type");}return r.push(new Uint8Array(y(t)).buffer),a?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(y(r)).buffer}function h(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),2>t.end-t.pos||t.end>e.length)throw new RangeError("Malformed DER");var r=e[t.pos++],o=e[t.pos++];if(128<=o){if(o&=127,t.end-t.pos<o)throw new RangeError("Malformed DER");for(var n=0;o--;)n<<=8,n|=e[t.pos++];o=n}if(t.end-t.pos<o)throw new RangeError("Malformed DER");var i;switch(r){case 2:i=e.subarray(t.pos,t.pos+=o);break;case 3:if(e[t.pos++])throw new Error("Unsupported bit string");o--;case 4:i=new Uint8Array(e.subarray(t.pos,t.pos+=o)).buffer;break;case 5:i=null;break;case 6:var s=btoa(a(e.subarray(t.pos,t.pos+=o)));if(!(s in C))throw new Error("Unsupported OBJECT ID "+s);i=C[s];break;case 48:i=[];for(var p=t.pos+o;t.pos<p;)i.push(h(e,t));break;default:throw new Error("Unsupported DER tag 0x"+r.toString(16));}return i}function y(e,t){t||(t=[]);var r=0,o=0,a=t.length+2;if(t.push(0,0),e instanceof Uint8Array){r=2,o=e.length;for(var s=0;s<o;s++)t.push(e[s])}else if(e instanceof ArrayBuffer){r=4,o=e.byteLength,e=new Uint8Array(e);for(var s=0;s<o;s++)t.push(e[s])}else if(null===e)r=5,o=0;else if("string"==typeof e&&e in P){var p=n(atob(P[e]));r=6,o=p.length;for(var s=0;s<o;s++)t.push(p[s])}else if(e instanceof Array){for(var s=0;s<e.length;s++)y(e[s],t);r=48,o=t.length-a}else if("object"==typeof e&&3===e.tag&&e.value instanceof ArrayBuffer){e=new Uint8Array(e.value),r=3,o=e.byteLength,t.push(0);for(var s=0;s<o;s++)t.push(e[s]);o++}else throw new Error("Unsupported DER value "+e);if(128<=o){var d=o,o=4;for(t.splice(a,0,255&d>>24,255&d>>16,255&d>>8,255&d);1<o&&!(d>>24);)d<<=8,o--;4>o&&t.splice(a,4-o),o|=128}return t.splice(a-2,2,r,o),t}function f(e,t,r,o){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===r?e.extractable:r,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===o?e.usages:o,enumerable:!0}})}function g(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function _(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}if("function"!=typeof Promise)throw"Promise support required";var A=t.crypto||t.msCrypto;if(A){var v=A.subtle||A.webkitSubtle;if(v){var R=t.Crypto||A.constructor||Object,x=t.SubtleCrypto||v.constructor||Object,S=t.CryptoKey||t.Key||Object,E=-1<t.navigator.userAgent.indexOf("Edge/"),T=!!t.msCrypto&&!E,w=!A.subtle&&!!A.webkitSubtle;if(T||w){var C={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},P={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(e){var t=v[e];v[e]=function(r,i,h){var c,y,m,R=[].slice.call(arguments);if("generateKey"===e?(c=s(r),y=i,m=h):"importKey"===e?(c=s(h),y=R[3],m=R[4],"jwk"===r&&(i=d(i),!i.alg&&(i.alg=p(c)),!i.key_ops&&(i.key_ops="oct"===i.kty?m.slice():"d"in i?m.filter(_):m.filter(g)),R[1]=l(i))):"unwrapKey"===e?(c=R[4],y=R[5],m=R[6],R[2]=h._key):void 0,"generateKey"===e&&"HMAC"===c.name&&c.hash)return c.length=c.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[c.hash.name],v.importKey("raw",A.getRandomValues(new Uint8Array(c.length+7>>3)),c,y,m);if(w&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===c.name&&(!c.modulusLength||2048<=c.modulusLength))return r=s(r),r.name="RSAES-PKCS1-v1_5",delete r.hash,v.generateKey(r,!0,["encrypt","decrypt"]).then(function(e){return Promise.all([v.exportKey("jwk",e.publicKey),v.exportKey("jwk",e.privateKey)])}).then(function(e){return e[0].alg=e[1].alg=p(c),e[0].key_ops=m.filter(g),e[1].key_ops=m.filter(_),Promise.all([v.importKey("jwk",e[0],c,!0,e[0].key_ops),v.importKey("jwk",e[1],c,y,e[1].key_ops)])}).then(function(e){return{publicKey:e[0],privateKey:e[1]}});if((w||T&&"SHA-1"===(c.hash||{}).name)&&"importKey"===e&&"jwk"===r&&"HMAC"===c.name&&"oct"===i.kty)return v.importKey("raw",n(o(i.k)),h,R[3],R[4]);if(w&&"importKey"===e&&("spki"===r||"pkcs8"===r))return v.importKey("jwk",u(i),h,R[3],R[4]);if(T&&"unwrapKey"===e)return v.decrypt(R[3],h,i).then(function(e){return v.importKey(r,e,R[4],R[5],R[6])});var x;try{x=t.apply(v,R)}catch(t){return Promise.reject(t)}return T&&(x=new Promise(function(e,t){x.onabort=x.onerror=function(r){t(r)},x.oncomplete=function(t){e(t.target.result)}})),x=x.then(function(e){return"HMAC"!==c.name||c.length||(c.length=8*e.algorithm.length),0==c.name.search("RSA")&&(!c.modulusLength&&(c.modulusLength=(e.publicKey||e).algorithm.modulusLength),!c.publicExponent&&(c.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e=e.publicKey&&e.privateKey?{publicKey:new f(e.publicKey,c,y,m.filter(g)),privateKey:new f(e.privateKey,c,y,m.filter(_))}:new f(e,c,y,m),e}),x}}),["exportKey","wrapKey"].forEach(function(e){var t=v[e];v[e]=function(o,i,s){var l=[].slice.call(arguments);if("exportKey"===e?l[1]=i._key:"wrapKey"===e?(l[1]=i._key,l[2]=s._key):void 0,(w||T&&"SHA-1"===(i.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===o&&"HMAC"===i.algorithm.name&&(l[0]="raw"),w&&"exportKey"===e&&("spki"===o||"pkcs8"===o)&&(l[0]="jwk"),T&&"wrapKey"===e)return v.exportKey(o,i).then(function(e){return"jwk"===o&&(e=n(unescape(encodeURIComponent(JSON.stringify(d(e)))))),v.encrypt(l[3],s,e)});var u;try{u=t.apply(v,l)}catch(t){return Promise.reject(t)}return T&&(u=new Promise(function(e,t){u.onabort=u.onerror=function(r){t(r)},u.oncomplete=function(t){e(t.target.result)}})),"exportKey"===e&&"jwk"===o&&(u=u.then(function(e){return(w||T&&"SHA-1"===(i.algorithm.hash||{}).name)&&"HMAC"===i.algorithm.name?{kty:"oct",alg:p(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:r(a(e))}:(e=d(e),e.alg||(e.alg=p(i.algorithm)),e.key_ops||(e.key_ops="public"===i.type?i.usages.filter(g):"private"===i.type?i.usages.filter(_):i.usages.slice()),e)})),w&&"exportKey"===e&&("spki"===o||"pkcs8"===o)&&(u=u.then(function(e){return e=c(d(e)),e})),u}}),["encrypt","decrypt","sign","verify"].forEach(function(e){var t=v[e];v[e]=function(r,o,n,i){if(T&&(!n.byteLength||i&&!i.byteLength))throw new Error("Empy input is not allowed");var a=[].slice.call(arguments),p=s(r);if(T&&"decrypt"===e&&"AES-GCM"===p.name){var d=r.tagLength>>3;a[2]=(n.buffer||n).slice(0,n.byteLength-d),r.tag=(n.buffer||n).slice(n.byteLength-d)}a[1]=o._key;var l;try{l=t.apply(v,a)}catch(t){return Promise.reject(t)}return T&&(l=new Promise(function(o,n){l.onabort=l.onerror=function(t){n(t)},l.oncomplete=function(n){var n=n.target.result;if("encrypt"===e&&n instanceof AesGcmEncryptResult){var i=n.ciphertext,a=n.tag;n=new Uint8Array(i.byteLength+a.byteLength),n.set(new Uint8Array(i),0),n.set(new Uint8Array(a),i.byteLength),n=n.buffer}o(n)}})),l}}),T){var q=v.digest;v.digest=function(e,t){if(!t.byteLength)throw new Error("Empy input is not allowed");var r;try{r=q.call(v,e,t)}catch(t){return Promise.reject(t)}return r=new Promise(function(e,t){r.onabort=r.onerror=function(r){t(r)},r.oncomplete=function(t){e(t.target.result)}}),r},t.crypto=Object.create(A,{getRandomValues:{value:function value(e){return A.getRandomValues(e)}},subtle:{value:v}}),t.CryptoKey=f}w&&(A.subtle=v,t.Crypto=R,t.SubtleCrypto=x,t.CryptoKey=f)}}}})},{}],28:[function(r,o,n){(function(e,r){"object"==typeof n&&"undefined"!=typeof o?r(n):"function"==typeof t&&t.amd?t(["exports"],r):r(e.WHATWGFetch={})})(this,function(t){'use strict';function r(e){return e&&DataView.prototype.isPrototypeOf(e)}function o(e){if("string"!=typeof e&&(e+=""),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e+=""),e}function i(e){var t={next:function next(){var t=e.shift();return{done:void 0===t,value:t}}};return A.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function p(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function l(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}function u(t){for(var r=new Uint8Array(t),o=Array(r.length),n=0;n<r.length;n++)o[n]=e(r[n]);return o.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:A.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:A.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:A.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():A.arrayBuffer&&A.blob&&r(e)?(this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):A.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||v(e))?this._bodyArrayBuffer=c(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):A.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},A.blob&&(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)},A.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e){var t=e.toUpperCase();return-1<R.indexOf(t)?t:e}function f(e,t){t=t||{};var r=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e+"";if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new a(t.headers)),this.method=y(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function _(e){var t=new a,r=e.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach(function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}}),t}function m(e,t){t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}function b(e,r){return new Promise(function(o,n){function i(){s.abort()}var a=new f(e,r);if(a.signal&&a.signal.aborted)return n(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:_(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;o(new m(t,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.onabort=function(){n(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&A.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",i),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",i)}),s.send("undefined"==typeof a._bodyInit?null:a._bodyInit)})}var A={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(A.arrayBuffer)var k=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(e){return e&&-1<k.indexOf(Object.prototype.toString.call(e))};a.prototype.append=function(e,t){e=o(e),t=n(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},a.prototype["delete"]=function(e){delete this.map[o(e)]},a.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},a.prototype.set=function(e,t){this.map[o(e)]=n(t)},a.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),i(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),i(e)},A.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},h.call(f.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];m.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},t.DOMException=self.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}b.polyfill=!0,self.fetch||(self.fetch=b,self.Headers=a,self.Request=f,self.Response=m),t.Headers=a,t.Request=f,t.Response=m,t.fetch=b,Object.defineProperty(t,"__esModule",{value:!0})})},{}]},{},[4])(4)});
